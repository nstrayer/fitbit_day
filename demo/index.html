<!DOCTYPE html>
<meta charset='utf-8'>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.9.1/d3.min.js"></script>
<script src='fitbit_day.js'></script>

<div>
  <h1> Fitbit Data! </h1>
</div>
<div id = "viz"></div>
<div id = "viz2"></div>

<style>
  svg{
  	overflow: visible;
  }

  body{
    font-family: avenir;
    margin: 0px;
    overflow: hidden;
  }

  .axis{
    opacity: .5;
  }
</style>

<script>

  d3.csv("fitbit_data.csv", (err, data)=> {

    const width =  window.innerWidth;

    const days = [
      {date: "2017-06-26", divid: "zero"}, 
      {date: "2017-06-27", divid: "one"}, 
      {date: "2017-06-28", divid: "two"}, 
      {date: "2017-06-29", divid: "three"},
      {date: "2017-06-30", divid: "three"}

    ];

    days.forEach(
      day => {
        const day_data = data.filter(d => d.date === day.date);
        d3.select('body').append("div").attr("id", day.divid);
        const day_plot = new fitbit_day({
          data: day_data,
          dom_target: day.divid,
          date: day.date,
          width
        })
      }
    );

    // //I loaded in a few days worth but I only want a single day.
    // const desired_day = "2017-06-27"
    

    // let my_data = new fitbit_day({
    //   data: day_data,
    //   dom_target: "viz",
    //   date: desired_day,
    //   width
    // });

    // const desired_day2 = "2017-06-29"
    // const day_data2 = data.filter(d => d.date === desired_day2);

    // let my_data2 = new fitbit_day({
    //   data: day_data2,
    //   dom_target: "viz2",
    //   date: desired_day2,
    //   width
    // });


  })
 
</script>
